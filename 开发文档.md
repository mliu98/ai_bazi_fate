# 🔮 八字缘分测算 · 产品开发文档 v1.4

> **产品类型**：小红书运营 · AI 算命 Web H5  
> **版本**：v1.4 · 适用团队：运营 / 开发  
> **核心变更**：问卷交互升级（五屏确认式） · Loading页四阶段动效+随机垫片文案 · 缘分值数字跳动动画 · iPad响应式适配 · 字体优化调整 · **分数范围调整为70-100**

---

## 一、项目概述

### 1.1 产品定位

「八字缘分测算」是一款面向小红书平台运营的轻量级 AI 算命 Web 工具，核心切入点是现代青年人的恋爱焦虑——用一段简单的互动体验，帮助用户判断自己与对象之间的八字缘分，生成一份通俗易懂、极易分享的匹配度报告。

### 1.2 目标用户

- 18-30 岁年轻女性为主（小红书核心用户群）
- 正在恋爱或暗恋中，对关系走向感到焦虑、不确定
- 对星座、八字、玄学有一定接受度，但不一定深度了解
- 习惯通过小红书获取情感内容，有强分享意愿

### 1.3 核心价值主张

> 「他是不是你命中注定的那个人？输入生日，让八字来告诉你答案。」

大量优质免费内容（缘分亮点、相处建议、专属姻缘签）驱动用户主动分享，形成裂变传播；付费完整版（隐患预警、最佳发展时机）通过激活码在小红书进行交易，形成私域变现闭环。

### 1.4 版本更新说明

| 变更项 | v1.0 | v1.1 | v1.2 | v1.3 | v1.4 |
|--------|------|------|------|------|------|
| 准入机制 | 无限制免费使用 | 激活码准入，限制使用次数 | 同 v1.1 | 同 v1.1 | 同 v1.1 |
| 免费内容范围 | 缘分总分 + 五行 + 1条缘分亮点 | 新增：缘分亮点全部 + 相处建议 + 专属姻缘签 | 同 v1.1 | 同 v1.1 | 同 v1.1 |
| 付费墙内容 | 相处建议 / 姻缘签 / 隐患 / 最佳时机 | 仅锁：隐患预警 + 最佳发展时机 | 同 v1.1 | 同 v1.1 | 同 v1.1 |
| 支付方式 | 微信/支付宝 H5 | 小红书站内私信交易，无需接入支付 SDK | 同 v1.1 | 同 v1.1 | 同 v1.1 |
| 大模型选型 | Claude Haiku / GPT-4o-mini | 国产大模型（DeepSeek / 通义千问） | 同 v1.1 | 同 v1.1 | 同 v1.1 |
| 问卷设计 | — | 5 题，选项偏抽象 | **扩展至 15 题，分 3 屏，选项全部口语化** | 同 v1.2 | **升级为3屏（每屏5题）+ 确认按钮进入下一题** | **升级为3屏（每屏5题）+ 确认按钮进入下一题** |
| Loading 页 | — | — | 3-5 秒简单动效 + 静态语录 | **全面升级：8-12 秒四阶段动效 + 随机垫片文案系统** | 同 v1.3 + **缘分值数字跳动动画** |
| 分数范围 | — | — | — | 50-99 | **调整为70-100** |
| 响应式适配 | — | — | — | — | **iPad 全面适配** |
| 字体优化 | — | — | — | — | **整体调大** |

---

## 二、准入机制 · 激活码系统

### 2.1 机制概述

用户进入应用后，需要输入一个有效的激活码才能开始测算。激活码由运营者在小红书上发放（免费赠送引流 / 付费购买完整版），用户凭码进入系统。这一机制同时实现了流量管控、付费门槛和私域沉淀三个目标。

### 2.2 激活码类型

| 类型 | 权限 | 用途 | 发放场景 |
|------|------|------|----------|
| 体验码（免费） | 测算 1 次，查看完整免费报告 | 引流获客 | 评论区抽奖 / 关注领取 / 博主赠送 |
| 完整码（付费） | 测算 3 次，解锁隐患预警 + 最佳时机 | 主要变现产品 | 小红书私信付款后发送 |
| 无限码（内部） | 不限次数，所有功能 | 运营测试 / KOL 合作 | 内部使用 |

### 2.3 激活码使用流程

1. 用户打开 App → 首页展示产品介绍 + 「输入激活码」入口
2. 输入 8 位激活码（格式：`XXXX-XXXX`）→ 后端校验有效性 + 类型 + 剩余次数
3. 校验通过 → 本地存储 token，进入测算流程
4. 校验失败 → 提示错误原因（无效 / 已过期 / 次数已用完）
5. 每次生成报告消耗 1 次使用次数，耗尽后提示「去小红书获取更多次数」

### 2.4 激活码数据结构

```sql
CREATE TABLE activation_codes (
  code        VARCHAR(9) PRIMARY KEY,   -- 格式 XXXX-XXXX
  type        ENUM('free', 'full', 'unlimited'),
  total_uses  INT NOT NULL,             -- free=1, full=3, unlimited=9999
  used_count  INT DEFAULT 0,
  created_at  TIMESTAMP DEFAULT NOW(),
  expires_at  TIMESTAMP,               -- 默认 30 天后
  note        TEXT                     -- 备注：发给谁 / 哪次活动
);
```

### 2.5 运营端管理

- 提供简单的运营后台页面（`/admin`，密码保护）
- 功能：批量生成激活码、查看已用/未用数量、作废指定码
- 建议每次批量生成 50-100 个体验码用于日常运营，完整码按需生成

> **运营建议**：体验码在小红书评论区「点赞最高的 10 条评论各领一个」，制造稀缺感和互动热度。

---

## 三、功能模块拆解

### 3.1 用户输入流程

整体流程遵循「分步推进、每屏只做一件事」原则，共分为 5 个屏幕，最大限度降低用户认知负担和中途放弃率。

```
[屏幕 0] 激活码输入
      ↓
[屏幕 1] Step 1 · 填写生日信息
      ↓
[屏幕 2] Step 2A · 问卷第一组（关系现状，共 5 题）
      ↓
[屏幕 3] Step 2B · 问卷第二组（相处细节，共 5 题）
      ↓
[屏幕 4] Step 2C · 问卷第三组（内心感受，共 5 题）
      ↓
[Loading 页] 八字排盘动效（3-5 秒）
      ↓
[屏幕 5] 报告页
```

---

#### 屏幕 1 · 填写生日信息

- 自己的生日：年 / 月 / 日 / 出生时辰（可选「不知道」）
- 对方的生日：同上结构
- 性别选择：我是女生 / 男生

> **设计要点**：日期用滚轮 Picker，时辰用「子时（23-1点）」通俗写法，绝不让用户手动打数字。

---

#### 屏幕 2 · 问卷第一组：关系现状

> 小标题：「先聊聊你们的故事 🌙」  
> 进度：1 / 3 组 · 共 15 题
> **v1.4 交互升级**：每屏5题，选择任意选项后需点击「确认进入下一题」按钮才可切换，避免误选

| 题号 | 问题 | 选项 | 大模型用途 |
|------|------|------|------------|
| Q1 | 你们现在是什么关系？ | 已经在一起了 / 暧昧中还没捅破 / 我在单方面喜欢他 / 刚认识在观察 | 关系阶段标签，影响报告措辞基调 |
| Q2 | 你们认识多久了？ | 不到 3 个月 / 3 个月到 1 年 / 1 到 3 年 / 3 年以上老相识了 | 时间跨度标签，影响缘分积累深度描述 |
| Q3 | 你们平时主要怎么联系？ | 天天发消息聊不停 / 有一搭没一搭 / 主要见面少发消息 / 基本靠缘分偶尔碰到 | 互动密度，影响「情感默契」模块 |
| Q4 | 他主动找过你吗？ | 经常主动找我 / 偶尔主动 / 基本都是我主动 / 说不清楚各一半 | 主动性分析，影响「情感投入」描述 |
| Q5 | 你们相识是怎么来的？ | 朋友介绍 / 同学 / 同事 / 偶然认识（陌生人） / 网上认识线下见面 | 相识方式，增加故事感文案素材 |

---

#### 屏幕 3 · 问卷第二组：相处细节

> 小标题：「再说说你们在一起是什么感觉 💬」  
> 进度：2 / 3 组 · 共 15 题
> **v1.4 交互升级**：每屏5题，选择任意选项后需点击「确认进入下一题」按钮才可切换

| 题号 | 问题 | 选项 | 大模型用途 |
|------|------|------|------------|
| Q6 | 你们在一起的时候，气氛更多是？ | 话多停不下来那种 / 安静但不尴尬很舒服 / 有点紧张但很心动 / 还不太熟说话会想 | 相处氛围，影响「性格相合」文案 |
| Q7 | 他让你最心动的是哪一点？ | 对我很细心体贴 / 很幽默总逗我笑 / 有能力有主见很稳 / 莫名就是感觉对了 | 情感触发点，用于个性化亮点文案 |
| Q8 | 你们之间有没有过争吵或冷战？ | 从来没有还太平 / 有过小摩擦但没大问题 / 吵过架但后来好了 / 有过一段时间闹僵 | 冲突经历，影响「隐患预警」措辞力度 |
| Q9 | 他对你的感觉，你觉得有几分？ | 应该喜欢我 / 感觉有好感但不确定 / 完全猜不透 / 应该只把我当朋友 | 对方感情判断，影响缘分描述的确定性 |
| Q10 | 你们有没有做过什么「有仪式感」的事？ | 一起过过节日 / 有共同的小习惯或暗语 / 有过难忘的约会 / 暂时还没有 | 关系深度标记，影响「日月相合」类亮点 |

---

#### 屏幕 4 · 问卷第三组：内心感受

> 小标题：「最后说说你的心里话 🔮」  
> 进度：3 / 3 组 · 共 15 题
> **v1.4 交互升级**：每屏5题，选择任意选项后需点击「确认进入下一题」按钮才可切换，完成后直接进入 Loading 页面

| 题号 | 问题 | 选项 | 大模型用途 |
|------|------|------|------------|
| Q11 | 在他面前，你是什么状态？ | 很自然，不用装 / 会有点在意自己表现 / 很紧张但喜欢这种感觉 / 还没到这种程度 | 自我暴露程度，影响「灵魂契合度」 |
| Q12 | 你在他身上花了多少心思？ | 经常想他，注意力都在他身上 / 喜欢但还好没到魂不守舍 / 有点心动但克制 / 只是普通感兴趣 | 情感投入强度，影响分数权重描述 |
| Q13 | 你觉得你们最大的障碍是什么？ | 没啥大障碍，就差捅破那层纸 / 不确定对方的心意 / 距离或异地问题 / 性格差异有点大 | 隐患定向，精准对应「预警」内容 |
| Q14 | 你有没有把他介绍给朋友或家人？ | 跟闺蜜说过了 / 家人也知道了 / 还没，太早了 / 不想说怕被问东问西 | 公开化程度，影响「婚姻运势」模块 |
| Q15 | 你最想从这份测算里知道什么？ | 我们到底有没有缘分 / 他是不是认真喜欢我 / 我们什么时候能在一起 / 长期在一起合不合适 | **核心诉求锚点**，决定报告开篇情绪基调和文案焦点 |

---

#### 屏幕设计通用规范

- **顶部进度条**：全程显示「第 X 题 / 共 15 题」细条进度，让用户随时知道快完成了
- **每题一屏**（移动端）：单题上下滑动切换，选完自动跳下一题，不用点「下一步」，流畅无摩擦
- **分组过渡页**：每组 5 题结束后出现一个小过渡动画（约 0.8 秒），配文案如「第一组完成，月老已记下 🌙」，增加仪式感
- **返回逻辑**：每题可左滑返回上一题修改答案，但不能跨组跳回
- **Q15 特殊处理**：该题答案在 Prompt 里单独提取，作为报告开篇第一句话的情绪锚点；Q8 和 Q13 重点标记，生成针对性隐患预警内容

---

#### Loading 页 · 测算中（v1.3 全面升级 + v1.4 数字跳动动画）

**设计核心原则：**
- **停顿 > 速度**：人们对「需要时间」的事更有信任感，匀速转圈反而显假
- **具体 > 模糊**：「推算流年行运」比「加载中」可信 10 倍
- **意外感**：偶尔出现「发现 3 处命格交点」这类「具体发现」，让用户觉得系统真的在分析他的数据
- **情绪递进**：技术感 → 神秘感 → 焦虑感 → 仪式感，带着期待进入报告页
- **v1.4 新增**：缘分值数字跳动动画，最终收敛到确定分数，制造「计算出来的」感

---

**整体时长：8-12 秒（分 4 阶段）**

| 阶段 | 时长 | 视觉动作 | 主题 |
|------|------|----------|------|
| 阶段一：排盘 | 0-2s | 八字命盘干支逐字飞入、依次亮起 | 建立可信度 |
| 阶段二：五行计算 | 2-5s | 五行图谱出现，金木水火土节点依次连线 | 技术感 |
| 阶段三：合婚推演 | 5-9s | 进度条带随机停顿推进，角落数字跳动锁定缘分值 | 情绪拉满 |
| 阶段四：生成报告 | 9-11s | 印章盖下动效，「月老已签定，报告即将呈现」 | 仪式感收尾 |

**进度条节奏设计（阶段三）：**
- 不用匀速，而是：0%→30%（快）→ 停顿 → 31%→68%（慢）→ 停顿 → 69%→100%（快）
- 停顿时配文「发现特殊命格，深度解析中…」，停顿本身反而增加可信度

**缘分值数字跳动（阶段三，v1.4 新增）：**
- 角落小字显示数字跳动：`?? → 82 → ?? → 87`，最终锁定真实分数
- 制造「计算出来的」感，而非随机生成
- 动画：数字快速闪烁后逐渐减速，最终收敛到确定分数

---

**垫片文案系统**

阶段二和阶段三期间，每隔 **1500ms ± 随机 500ms** 切换一条垫片文案（故意不规律），字体渐入渐出。文案按类型分池随机取，避免同类型连续出现。

**【关系感知类】** — 让用户觉得「系统读透了我们」，建立情感共鸣

| 文案 |
|------|
| 「你是不是有时候觉得 TA 忽远忽近…」 |
| 「感觉 TA 对你有点不一样，但又说不准…」 |
| 「你有没有想过，也许 TA 也在等你先开口…」 |
| 「最近是不是有点患得患失…」 |
| 「有时候觉得很近，有时候又觉得隔了点什么…」 |
| 「你有没有在深夜想过，这段关系到底算什么…」 |

**【关系隐患类】** — 制造轻微焦虑，为付费预警模块铺垫

| 文案 |
|------|
| 「命盘里有一处值得注意的地方…」 |
| 「检测到潜在的命格摩擦点，分析中…」 |
| 「发现一个影响关系走向的关键节点…」 |
| 「有一件事，可能是你们之间的隐形障碍…」 |
| 「你们之间有一道坎，但也有破解的方式…」 |

**【命中注定类】** — 情绪拉满，强化产品可信度

| 文案 |
|------|
| 「你们相识，可能真的不是偶然…」 |
| 「这段缘分，月老早有安排…」 |
| 「八字显示，你们曾经有过交集…」 |
| 「有些缘分，是刻在命盘里的…」 |

**【时机暗示类】** — 为「最佳发展时机」付费模块铺垫

| 文案 |
|------|
| 「今年对你们来说，是个关键的年份…」 |
| 「最近正好是一个重要的时间窗口…」 |
| 「命盘显示，接下来三个月值得把握…」 |

**垫片出现节奏（与阶段对应）：**

| 时间段 | 文案类型 | 目的 |
|--------|----------|------|
| 0-3s | 技术计算感（排盘、推演进行中…） | 建立可信度 |
| 3-6s | 关系感知类 | 让用户觉得「它懂我」 |
| 6-9s | 关系隐患类 + 命中注定类 | 情绪拉满 + 轻微焦虑 |
| 9-11s | 时机暗示类 → 「报告已生成」 | 为付费模块埋下期待 |

**技术实现要点：**

```js
const SHIMS = {
  sense:    [ /* 关系感知类，6条 */ ],
  warning:  [ /* 关系隐患类，5条 */ ],
  fate:     [ /* 命中注定类，4条 */ ],
  timing:   [ /* 时机暗示类，3条 */ ],
}

// 按阶段从对应类型池随机取，避免连续出现同类型
// 间隔：1500ms + Math.random() * 500ms（故意不规律）
// 切换动效：opacity 0→1（300ms）→ 停留 → 1→0（300ms）
```

---

### 3.2 报告内容结构

> **设计逻辑**：免费内容全是正向情绪，让用户看完心情好、主动分享；付费内容是「焦虑触发器」，精准戳中「我们会不会有问题」的不安，付费意愿最强。

| 模块 | 内容说明 | 是否免费 | 分享价值 |
|------|----------|----------|----------|
| 🎯 缘分总分 | 醒目百分比（如 87%）+ 等级标签（天作之合 / 良缘相伴 / 平淡有缘） | ✅ 免费 | ⭐⭐⭐⭐⭐ |
| 🔥 五行相合分析 | 双方五行属性展示 + 一句话相合总结 | ✅ 免费 | ⭐⭐⭐ |
| ✨ 缘分亮点（全部） | 3-5 条正向八字分析 | ✅ 免费（全部展示） | ⭐⭐⭐⭐ |
| 💕 相处建议 | 基于八字的恋爱相处技巧，口语化表达 | ✅ 免费 | ⭐⭐⭐⭐ |
| 🌸 专属姻缘签 | 个性化诗意总结文案，带名字、带情绪 | ✅ 免费 | ⭐⭐⭐⭐⭐ |
| ⚠️ 隐患预警 | 潜在的八字冲突分析 | 🔒 付费解锁 | — |
| 📅 最佳发展时机 | 流年推算的吉利节点 | 🔒 付费解锁 | — |

### 3.3 分享功能（裂变核心）

#### 分享图片卡片（主要方式）

- 尺寸：1:1 正方形（1080×1080px），适配小红书封面图
- 内容：产品名 + 缘分总分 + 等级标签 + 专属姻缘签文案 + 两人昵称 + 二维码
- 风格：国风玄学感，主色深红/金色，字体仿古，山水或星象背景
- 实现：前端 Canvas 动态渲染，点击「保存图片」下载 PNG，零服务器成本

#### 复制文字（辅助方式）

一键复制约 100 字分享文案：
> 「我和他测出来缘分值 87%，八字说我们是天作之合！姻缘签说：[签文内容]，去测测你的：[链接]」

---

## 四、变现模式 · 小红书私信交易

### 4.1 交易流程

| 步骤 | 操作方 | 行为 |
|------|--------|------|
| ① 看到付费墙 | 用户 | 免费报告末尾看到「隐患预警」被遮罩，点击「获取完整版」 |
| ② 引导私信 | 系统 | 弹出引导：「私信小红书 @XXX，备注「完整码」，9.9元获取激活码」 |
| ③ 私信付款 | 用户 | 在小红书私信运营账号完成转账 |
| ④ 发码 | 运营者 | 收款后从后台复制完整码，私信发给用户 |
| ⑤ 激活使用 | 用户 | 回到 App 输入激活码，解锁完整报告 |

### 4.2 定价建议

| 产品 | 定价 | 说明 |
|------|------|------|
| 体验码（1次） | ¥2.99 | 小红书商城 |
| 完整码（3次） | ¥9.99 | 主要变现产品，心理门槛低 |
| 完整码（10次） | ¥19.9 | 适合多次测算或分享给朋友 |

### 4.3 运营 SOP

- 每日定时查看小红书私信，收款后 5 分钟内响应发码
- 建立激活码发放记录表（码 + 发给谁 + 时间），方便追踪售后
- 快捷回复话术：「收到！你的激活码是：`XXXX-XXXX`，有效期 5 天，祝测算顺利 🔮」

> **注意**：话术避免「购买」「付款」等词，改用「获取」「换取」，规避平台风险。

---

## 五、技术方案

### 5.1 技术栈选型

| 层级 | 技术选型 | 选择理由 |
|------|----------|----------|
| 前端框架 | React + Vite + TypeScript | 项目代码在 `src/main.tsx`、`.tsx` 文件，使用 React + Vite 开发 |
| UI 组件库 | shadcn-ui / Radix + Tailwind CSS | 现有组件位于 `src/app/components`，使用可组合的原子组件库与 Tailwind 实现样式 |
| 图片生成 | html2canvas / Canvas | 前端 Canvas 渲染分享卡片，避免后端成本 |
| 状态管理 | React Context / Zustand（按需） | 轻量、与 React 配合良好 |
| 后端框架 | Supabase Functions / Node.js | 仓库中存在 `supabase/functions/server`，优先使用 Supabase edge functions 或 Node.js 服务 |
| 数据库 | Supabase（PostgreSQL） | 已包含 `sql/init.sql` 与 Supabase 相关 utils |
| 大模型 | DeepSeek V3（首选） | 价格和中文理解表现优秀，已在设计中列为首选模型 |
| 部署 | Vercel（前端）+ Supabase / Railway（后端） | 与现有托管方案兼容，容易配置环境变量 |

### 5.2 国产大模型对比

| 模型 | 价格（per 1M tokens） | 中文质量 | 推荐指数 |
|------|----------------------|----------|----------|
| DeepSeek V3 | 约 ¥1 输入 / ¥2 输出 | ⭐⭐⭐⭐⭐ | ★★★★★ 首选 |
| DeepSeek R1 | 约 ¥4 / ¥16 | ⭐⭐⭐⭐⭐ | 可用于复杂分析 |
| 通义千问 Turbo | 约 ¥3 / ¥3 | ⭐⭐⭐⭐ | ★★★★ 备选 |
| Kimi（Moonshot） | 约 ¥12 / ¥12 | ⭐⭐⭐⭐ | ★★★ 备选 |

> **推荐**：主力使用 DeepSeek V3，单次报告 API 调用成本约 ¥0.003-0.008，比 GPT 类模型便宜约 20 倍。

### 5.3 AI 报告生成策略（规则 + 大模型混合）

#### 规则引擎（结构化计算）

- 输入生日 → 计算八字（天干地支）
- 五行属性判断（金木水火土）
- 查相合关系表：六合、三合、相冲、相克矩阵
- 输出：缘分得分（70-100）、五行关系标签、各模块冲克 flag

> **v1.4 更新**：分数范围从 50-99 调整为 70-100，TIER 划分：TIER_S(90-100) / TIER_A(80-89) / TIER_B(70-79)

#### 大模型（自然语言生成）

规则引擎输出的结构化数据 + 用户问卷答案拼装成 Prompt，大模型生成：缘分亮点文案 / 相处建议 / 专属姻缘签 / 隐患预警 / 分享文案。

**Prompt 模板核心结构：**

```
系统提示：你是一位精通八字合婚的命理师，擅长用现代年轻人听得懂的语言解读命盘。

用户输入：
- 八字数据：[天干地支]
- 五行关系：[相合/相冲标签]
- 缘分得分：[50-99]
- 问卷关键字段：
  · 关系阶段（Q1）：[答案]
  · 认识时长（Q2）：[答案]
  · 核心诉求（Q15，重点）：[答案] ← 用于报告开篇情绪锚点
  · 冲突经历（Q8，重点）：[答案] ← 用于隐患预警定向
  · 主要障碍（Q13，重点）：[答案] ← 用于隐患预警定向
  · 其他问卷答案：[Q3-Q7, Q9-Q12, Q14]

请输出 JSON：
{
  "opening": "",        // 报告开篇一句话，对应 Q15 的核心诉求
  "highlights": [],     // 3-5 条缘分亮点
  "advice": [],         // 3-4 条相处建议
  "sign": "",           // 专属姻缘签诗句
  "warning": "",        // 隐患预警（付费内容）
  "timing": ""          // 最佳发展时机（付费内容）
}
```

### 5.4 核心 API 接口

| 接口 | 方法 | 说明 | 需要激活码 |
|------|------|------|------------|
| `/api/code/verify` | POST | 校验激活码有效性，返回类型和剩余次数 | 否 |
| `/api/calculate` | POST | 提交生日+问卷，生成免费报告 | 是 |
| `/api/report/full` | POST | 完整码专属：获取隐患预警+最佳时机 | 是（完整码） |
| `/api/admin/codes/generate` | POST | 批量生成激活码 | 管理员 Token |
| `/api/admin/codes/list` | GET | 查看所有激活码状态 | 管理员 Token |

### 5.5 页面路由

| 路由 | 页面 | 说明 |
|------|------|------|
| `/` | 首页/落地页 | 产品介绍 + 激活码输入入口 |
| `/activate` | 激活码输入页 | 输入码 → 验证 → 进入测算 |
| `/input/birthday` | 生日填写页 | Step1：填写双方生日和时辰 |
| `/input/quiz/1` | 问卷第一组 | 关系现状（Q1-Q5） |
| `/input/quiz/2` | 问卷第二组 | 相处细节（Q6-Q10） |
| `/input/quiz/3` | 问卷第三组 | 内心感受（Q11-Q15） |
| `/loading` | 测算中 | 八字排盘动效等待页，8-12 秒，四阶段 + 垫片文案 |
| `/result` | 报告页 | 完整免费报告 + 付费内容引导 |
| `/admin` | 运营后台 | 密码保护，激活码生成和管理 |

---

## 六、iPad 响应式适配（v1.4 新增）

### 6.1 布局适配策略

- **断点设置**：针对 iPad 屏幕尺寸（768px-1024px）设置专用断点
- **左右留白**：在 iPad 横屏模式下，采用左右留白布局，避免内容过宽
- **触摸区域**：增大按钮和可交互元素的触摸区域至 44px 以上
- **字体缩放**：基于屏幕宽度动态调整字体大小基数

### 6.2 屏幕适配清单

| 设备类型 | 屏幕宽度 | 布局模式 | 字体缩放 |
|----------|----------|----------|----------|
| 手机竖屏 | < 768px | 单列全宽 | 1x (基准) |
| 手机横屏 | < 768px | 单列居中 | 1.1x |
| iPad 竖屏 | 768-1024px | 双列/留白 | 1.15x |
| iPad 横屏 | 1024px+ | 双列居中 | 1.2x |
| 桌面 | > 1200px | 居中限制宽度 | 1.1x |

### 6.3 字体整体调大（v1.4）

- **基准字号提升**：基础字号从 14px 提升至 16px
- **标题层级**：H1 从 24px→28px，H2 从 20px→24px，H3 从 18px→20px
- **正文字号**：报告正文从 14px→16px，问卷选项从 15px→17px
- **按钮文字**：从 14px→16px，确保清晰可读
- **行高调整**：正文的行高从 1.5 提升至 1.6，提升阅读舒适度

---

## 七、成本估算

### 6.1 单用户成本（DeepSeek V3）

| 成本项 | 单次估算 | 说明 |
|--------|----------|------|
| 大模型 API | 约 ¥0.003 - ¥0.008 | 约 800 tokens 输入 + 600 tokens 输出 |
| 图片卡片生成 | ¥0 | 前端 Canvas 渲染 |
| 服务器/CDN | 约 ¥0.003 | 按流量极小分摊 |
| **合计（免费用户）** | **约 ¥0.006 - ¥0.011 / 次** | 比 GPT 方案降低约 15-20 倍 |
| 完整版利润 | ¥9.9 - ¥0.03 ≈ **¥9.87** | 3 次使用成本约 ¥0.03，利润率极高 |

### 6.2 限流策略

- 每个激活码限制使用次数，从源头控制成本
- 无激活码则无法使用，杜绝刷接口
- 管理端可随时作废异常激活码

---

## 七、小红书运营策略

### 7.1 内容投放方向

- 「我用八字算了我和男友的缘分，姻缘签把我看哭了」— 截图分享卡片 + 签文
- 「测出缘分 92% 的，现在在一起了」— 真实故事感，增加可信度
- 「评论区留言抽体验码」— 互动引流
- 七夕、情人节、520 节点前一周重点发布

### 7.2 裂变设计

- 专属姻缘签每条都是独特的「命运句子」，让人忍不住截图发出去
- 分享卡片自带二维码，看到的人扫码 → 需要激活码 → 去找运营者要 → 自然沉淀私域
- 「分享给对象一起测」引导双人参与，二次传播

---

## 八、开发排期

| 阶段 | 时间 | 核心任务 |
|------|------|----------|
| Phase 1 · MVP | 第 1-2 周 | 激活码系统 + 生日输入 + 15 题问卷分屏流程 + 规则引擎八字计算 + 静态报告页 |
| Phase 2 · AI 接入 | 第 3 周 | 接入 DeepSeek API + 问卷答案 Prompt 拼装 + 分享图片卡片功能 |
| Phase 3 · 运营后台 | 第 4 周 | 激活码管理后台 + 付费墙逻辑 |
| Phase 4 · 上线运营 | 第 5 周起 | 小红书内容发布 + 激活码发放 + 持续迭代 |

---

## 九、风险提示

- **合规风险**：产品描述包装为「基于传统文化的娱乐性人格分析工具」，页面加免责声明「本报告仅供娱乐参考」
- **激活码安全**：设置使用次数上限并记录使用 IP，防止一个码被多人共享
- **大模型输出质控**：对输出做关键词过滤，避免极端负面内容；JSON 格式输出便于校验
- **小红书交易风险**：话术避免「购买」「付款」等词，改用「获取」「换取」；做好买家截图记录
- **问卷完成率**：15 题有一定流失风险，需监控每题的放弃率，必要时可将第三组部分题目设为「选填」以提升完成率
- **iPad 兼容性**：发布前在真机上测试，确保触摸交互、字体显示、动画流畅度符合预期

---

*文档结束 · v1.4*